(()=>{var e={};e.id=636,e.ids=[636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1975:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(r,{A:()=>p,O:()=>d});var i=t(8732),n=t(2015),a=t(9582),o=t(6958),c=t(6220),u=e([a,o]);[a,o]=u.then?(await u)():u;let l=(0,n.createContext)({}),d=({children:e})=>{let[r,t]=(0,n.useState)(null),[s,u]=(0,n.useState)(!0),d=(0,c.useRouter)();(0,n.useEffect)(()=>{let e=(0,o.onAuthStateChanged)(a.j,e=>{console.log("Auth state changed:",e?{uid:e.uid,emailVerified:e.emailVerified}:"No user"),t(e),u(!1)});return()=>e()},[]);let p=async(e,r)=>{try{if(console.log("Calling signInWithEmailAndPassword:",{email:e}),!(await (0,o.signInWithEmailAndPassword)(a.j,e,r)).user.emailVerified)throw Error("Please verify your email before logging in.");d.push("/notes")}catch(e){throw console.error("Login error:",e.message),e}},E=async(e,r,t)=>{try{console.log("Calling createUserWithEmailAndPassword:",{email:e,displayName:t});let s=await (0,o.createUserWithEmailAndPassword)(a.j,e,r);await (0,o.updateProfile)(s.user,{displayName:t}),await (0,o.sendEmailVerification)(s.user),console.log("Verification email sent to:",e)}catch(e){throw console.error("Signup error:",e.message),e}},g=async()=>{try{if(a.j.currentUser)await (0,o.sendEmailVerification)(a.j.currentUser),console.log("Verification email resent to:",a.j.currentUser.email);else throw Error("No user is signed in.")}catch(e){throw console.error("Resend verification error:",e.message),e}},h=async()=>{try{await (0,o.signOut)(a.j),d.push("/login")}catch(e){throw console.error("Logout error:",e.message),e}},f=async e=>{try{await (0,o.updateProfile)(a.j.currentUser,{displayName:e}),t({...a.j.currentUser})}catch(e){throw console.error("Update profile error:",e.message),e}};return(0,i.jsx)(l.Provider,{value:{user:r,loading:s,login:p,signup:E,logout:h,updateUserProfile:f,resendVerificationEmail:g},children:!s&&e})},p=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};s()}catch(e){s(e)}})},2015:e=>{"use strict";e.exports=require("react")},2768:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3885:(e,r,t)=>{"use strict";e.exports=t(361)},4337:e=>{"use strict";e.exports=import("firebase/firestore")},6551:e=>{"use strict";e.exports=import("firebase/app")},6958:e=>{"use strict";e.exports=import("firebase/auth")},7286:(e,r)=>{"use strict";function t(e){return"("===e[0]&&e.endsWith(")")}function s(e){return e.startsWith("@")&&"@children"!==e}function i(e,r){if(e.includes(n)){let e=JSON.stringify(r);return"{}"!==e?n+"?"+e:n}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return n},addSearchParamsIfPageSegment:function(){return i},isGroupSegment:function(){return t},isParallelRouteSegment:function(){return s}});let n="__PAGE__",a="__DEFAULT__"},7522:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>o});var i=t(8732);t(2768);var n=t(1975),a=e([n]);function o({Component:e,pageProps:r}){return(0,i.jsx)(n.O,{children:(0,i.jsx)(e,{...r})})}n=(a.then?(await a)():a)[0],s()}catch(e){s(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9582:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(r,{db:()=>d,j:()=>l});var i=t(6551),n=t(6958),a=t(4337),o=e([i,n,a]);[i,n,a]=o.then?(await o)():o;let c={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},u=(0,i.getApps)().length?(0,i.getApp)():(0,i.initializeApp)(c),l=(0,n.getAuth)(u),d=(0,a.getFirestore)(u);s()}catch(e){s(e)}})}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[839],()=>t(7522));module.exports=s})();