(()=>{var e={};e.id=703,e.ids=[220,703],e.modules={37:e=>{"use strict";e.exports=import("uuid")},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},422:e=>{"use strict";e.exports=require("file-saver")},778:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},980:e=>{"use strict";e.exports=require("pdf-lib")},1506:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1705:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>$});var s=a(8732),l=a(7085),i=a.n(l),n=a(2015),o=a(3220),d=a(9048),c=a(5091),x=a(4692),g=a(6791),u=a(6084),p=a(7290),h=a(3295),m=a(6744),y=a(778),f=a(1506),b=a(6205),j=a(5453),k=a(7581),w=a(1919),v=a(2893),N=a(37),A=a(980),S=a(6356),C=a(7445),T=a(7981);a(6218);var E=a(8747),M=a(1975),P=a(6220),_=a(9918),L=a.n(_),H=a(9582),D=a(4337),I=a(8194),U=a.n(I),R=a(422),q=e([o,v,N,S,C,T,E,M,H,D]);function $(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(""),[l]=(0,E.useDebounce)(a,300),[N,T]=(0,n.useState)(null),[_,I]=(0,n.useState)(""),[q,$]=(0,n.useState)([]),[z,B]=(0,n.useState)(""),[F,O]=(0,n.useState)(""),[V,W]=(0,n.useState)(""),[X]=(0,n.useState)(["General","Lectures","Assignments","Exams"]),[G,K]=(0,n.useState)(!0),[Z,J]=(0,n.useState)(!1),[Y,Q]=(0,n.useState)(1),[ee,et]=(0,n.useState)("createdAt"),[ea,er]=(0,n.useState)("desc"),[es,el]=(0,n.useState)(""),[ei,en]=(0,n.useState)(null),eo=(0,n.useRef)(null),{user:ed,loading:ec}=(0,M.A)();(0,P.useRouter)();let ex=(0,S.useEditor)({extensions:[C.default],content:"",onUpdate:({editor:e})=>{N&&(clearTimeout(eo.current),J(!0),eo.current=setTimeout(()=>{eu(!0),J(!1)},1e3))}}),eg=async()=>{if(!_.trim()||!ex.getHTML().trim()||"<p></p>"===ex.getHTML())return void v.default.error("Title and content are required!");let a={title:_,content:ex.getHTML(),tags:q,date:F||new Date().toISOString().split("T")[0],category:V||"General",createdAt:new Date().toISOString(),pinned:!1,userId:ed.uid};try{let r=await (0,D.addDoc)((0,D.collection)(H.db,"notes"),a);t([{id:r.id,...a},...e]),v.default.success("Note created!",{icon:"\uD83D\uDCDD"}),ey(),K(!0)}catch(e){console.error("Error adding note:",e),v.default.error("Failed to create note.")}},eu=(0,n.useCallback)(async(a=!1)=>{if(!_.trim()||!ex.getHTML().trim()||"<p></p>"===ex.getHTML()){a||v.default.error("Title and content are required!");return}let r={title:_,content:ex.getHTML(),tags:q,date:F,category:V,updatedAt:new Date().toISOString(),pinned:N.pinned,userId:ed.uid};try{let s=(0,D.doc)(H.db,"notes",N.id);await (0,D.updateDoc)(s,r),t(e.map(e=>e.id===N.id?{id:N.id,...r}:e)),a||(v.default.success("Note updated!",{icon:"✅"}),ey(),K(!0))}catch(e){console.error("Error updating note:",e),v.default.error("Failed to update note.")}},[_,q,F,V,N,e,ex,ed.uid]),ep=async a=>{try{await (0,D.deleteDoc)((0,D.doc)(H.db,"notes",a)),t(e.filter(e=>e.id!==a)),N?.id===a&&ey(),v.default.success("Note deleted!",{icon:"\uD83D\uDDD1️"})}catch(e){console.error("Error deleting note:",e),v.default.error("Failed to delete note.")}},eh=async a=>{try{let r=e.find(e=>e.id===a),s={...r,pinned:!r.pinned},l=(0,D.doc)(H.db,"notes",a);await (0,D.updateDoc)(l,{pinned:!r.pinned}),t(e.map(e=>e.id===a?s:e)),v.default.success(r.pinned?"Note unpinned!":"Note pinned!",{icon:"\uD83D\uDCCC"})}catch(e){console.error("Error pinning note:",e),v.default.error("Failed to pin note.")}},em=e=>{T(e),K(!1)},ey=()=>{T(null),I(""),$([]),O(""),B(""),W(""),ex&&ex.commands.setContent("")},ef=e=>{$(q.filter(t=>t!==e))},eb=async(e,t="md")=>{if("md"===t){let t=new Blob([`# ${e.title}

${e.content}

**Tags**: ${e.tags.join(", ")}
**Category**: ${e.category}
**Date**: ${e.date}`],{type:"text/markdown"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`${e.title.replace(/\s+/g,"_")}.md`,r.click(),URL.revokeObjectURL(a),v.default.success("Exported as Markdown!",{icon:"\uD83D\uDCC4"})}else if("pdf"===t){let t=await A.PDFDocument.create(),a=t.addPage(),{width:r,height:s}=a.getSize(),l=await t.embedFont("Helvetica");a.drawText(`Title: ${e.title}`,{x:50,y:s-50,size:20,font:l}),a.drawText(e.content.replace(/<[^>]+>/g,""),{x:50,y:s-100,size:12,font:l,maxWidth:r-100}),a.drawText(`Tags: ${e.tags.join(", ")}`,{x:50,y:50,size:10,font:l}),a.drawText(`Category: ${e.category}`,{x:50,y:30,size:10,font:l}),a.drawText(`Date: ${e.date}`,{x:50,y:10,size:10,font:l});let i=await t.save(),n=new Blob([i],{type:"application/pdf"}),o=URL.createObjectURL(n),d=document.createElement("a");d.href=o,d.download=`${e.title.replace(/\s+/g,"_")}.pdf`,d.click(),URL.revokeObjectURL(o),v.default.success("Exported as PDF!",{icon:"\uD83D\uDCD1"})}},ej=async()=>{let t=new(U());e.forEach(e=>{t.file(`${e.title.replace(/\s+/g,"_")}.md`,`# ${e.title}

${e.content}

**Tags**: ${e.tags.join(", ")}
**Category**: ${e.category}
**Date**: ${e.date}`)});let a=await t.generateAsync({type:"blob"});(0,R.saveAs)(a,"all_notes.zip"),v.default.success("All notes exported as ZIP!",{icon:"\uD83D\uDCE6"})},ek=e=>{let t=btoa(JSON.stringify(e)),a=`${window.location.origin}/notes?note=${t}`;navigator.clipboard.writeText(a),v.default.success("Link copied!",{icon:"\uD83D\uDD17"})},ew=e=>{"lecture"===e?(ex.commands.setContent(`
        <h1>Lecture Notes</h1>
        <p><strong>Topic</strong>: </p>
        <p><strong>Key Points</strong>:</p>
        <ul><li></li><li></li></ul>
      `),I("Lecture Notes")):"assignment"===e&&(ex.commands.setContent(`
        <h1>Assignment</h1>
        <p><strong>Title</strong>: </p>
        <p><strong>Requirements</strong>:</p>
        <ul><li></li><li></li></ul>
      `),I("Assignment")),v.default.success("Template applied!",{icon:"\uD83D\uDCCB"})},ev=()=>ex?ex.getText().split(/\s+/).filter(e=>e.length>0).length:0,eN=(0,n.useMemo)(()=>{let t=new Set;return e.forEach(e=>e.tags.forEach(e=>t.add(e))),Array.from(t)},[e]),eA=(0,n.useMemo)(()=>e.filter(e=>(e.title.toLowerCase().includes(l.toLowerCase())||e.content.toLowerCase().includes(l.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(l.toLowerCase())))&&(!V||e.category===V)&&(!es||e.tags.includes(es))).sort((e,t)=>{if(e.pinned!==t.pinned)return e.pinned?-1:1;let a="asc"===ea?1:-1;return"title"===ee?a*e.title.localeCompare(t.title):"date"===ee?a*(new Date(e.date)-new Date(t.date)):a*(new Date(t.createdAt)-new Date(e.createdAt))}),[e,l,V,es,ee,ea]),eS=eA.slice((Y-1)*5,5*Y);return ec?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 font-sans",children:(0,s.jsx)("div",{className:"text-gray-600 dark:text-gray-300 text-lg font-semibold",children:"Loading..."})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{id:"82902f98b9a2fd90",children:"*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.note-content.jsx-82902f98b9a2fd90,.tiptap-editor.jsx-82902f98b9a2fd90,.prose.jsx-82902f98b9a2fd90{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}"}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex flex-col min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans",children:[(0,s.jsx)(v.Toaster,{position:"top-right",toastOptions:{duration:2e3,style:{background:"#fff",color:"#1f2937",borderRadius:"8px"},dark:{background:"#1f2937",color:"#f9fafb"}}}),(0,s.jsx)("main",{className:"jsx-82902f98b9a2fd90 flex-1",children:(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 max-w-5xl mx-auto px-4 md:px-6 py-6",children:[(0,s.jsxs)(o.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-between items-center mb-6",children:[(0,s.jsx)(L(),{href:"/",children:(0,s.jsx)("h1",{className:"jsx-82902f98b9a2fd90 text-2xl font-bold text-blue-600 dark:text-blue-400 cursor-pointer hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"Noteify"})}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-4",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ej,className:"px-3 py-1 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-500 rounded-lg",title:"Export All Notes",children:"Export All"}),(0,s.jsx)(L(),{href:"/settings",children:(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",title:"Settings",children:(0,s.jsx)(d.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})})]})]}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,s.jsx)(o.AnimatePresence,{children:G&&(0,s.jsxs)(o.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-4 mb-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-2 flex-1",children:[(0,s.jsx)(c.A,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("input",{type:"text",placeholder:"Search notes...",value:a,onChange:e=>r(e.target.value),className:"jsx-82902f98b9a2fd90 w-full p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100"})]}),(0,s.jsxs)("select",{value:ee,onChange:e=>et(e.target.value),className:"jsx-82902f98b9a2fd90 p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none text-gray-800 dark:text-gray-100",children:[(0,s.jsx)("option",{value:"createdAt",className:"jsx-82902f98b9a2fd90",children:"Sort by Date Created"}),(0,s.jsx)("option",{value:"title",className:"jsx-82902f98b9a2fd90",children:"Sort by Title"}),(0,s.jsx)("option",{value:"date",className:"jsx-82902f98b9a2fd90",children:"Sort by Note Date"})]}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>er("asc"===ea?"desc":"asc"),className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700",children:"asc"===ea?(0,s.jsx)(x.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):(0,s.jsx)(g.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2 mb-4 flex-wrap",children:X.map(e=>(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(e===V?"":e),className:`px-3 py-1 rounded-full text-sm font-semibold ${V===e?"bg-blue-500 text-white dark:bg-blue-600":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e},e))}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2 mb-4 flex-wrap",children:eN.map(e=>(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>el(e===es?"":e),className:`px-3 py-1 rounded-full text-sm font-semibold ${es===e?"bg-purple-500 text-white dark:bg-purple-600":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e},e))}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 grid gap-4",children:0===eS.length?(0,s.jsx)("p",{className:"jsx-82902f98b9a2fd90 text-gray-500 dark:text-gray-400 text-center",children:"No notes found"}):eS.map(e=>(0,s.jsxs)(o.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-xl flex items-start gap-3 note-card hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex-1",children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{onClick:()=>en(e),className:"jsx-82902f98b9a2fd90 font-semibold text-gray-800 dark:text-gray-100 truncate cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",children:e.title}),e.pinned&&(0,s.jsx)(u.A,{className:"w-4 h-4 text-yellow-500"})]}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content},className:"jsx-82902f98b9a2fd90 note-content text-sm text-gray-500 dark:text-gray-400 line-clamp-2"}),(0,s.jsx)("p",{className:"jsx-82902f98b9a2fd90 text-xs text-gray-400 dark:text-gray-500 mt-1",children:e.date})]}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>en(e),className:"p-2 text-blue-500 dark:text-blue-400",title:"Preview",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>eh(e.id),className:"p-2 text-yellow-500",title:e.pinned?"Unpin":"Pin",children:(0,s.jsx)(u.A,{className:"w-4 h-4"})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ek(e),className:"p-2 text-purple-500 dark:text-purple-400",title:"Share",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-82902f98b9a2fd90 w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C9.375 12.955 10.185 12.75 11 12.75s1.625.205 2.316.592m2.684-2.592l4-4m0 0l-4-4m4 4H7",className:"jsx-82902f98b9a2fd90"})})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>eb(e,"md"),className:"p-2 text-green-500 dark:text-green-400",title:"Export Markdown",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>em(e),className:"p-2 text-blue-500 dark:text-blue-400",title:"Edit",children:(0,s.jsx)(m.A,{className:"w-4 h-4"})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ep(e.id),className:"p-2 text-red-500 dark:text-red-400",title:"Delete",children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})]})]},e.id))}),eA.length>5&&(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex justify-between mt-4",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q(e=>Math.max(e-1,1)),disabled:1===Y,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 disabled:opacity-50",children:(0,s.jsx)(f.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,s.jsxs)("span",{className:"jsx-82902f98b9a2fd90 text-sm text-gray-600 dark:text-gray-400",children:["Page ",Y," of ",Math.ceil(eA.length/5)]}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q(e=>Math.min(e+1,Math.ceil(eA.length/5))),disabled:Y===Math.ceil(eA.length/5),className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 disabled:opacity-50",children:(0,s.jsx)(b.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})}),(0,s.jsx)(o.AnimatePresence,{children:!G&&(0,s.jsxs)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex justify-between items-center mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Note Title",value:_,onChange:e=>I(e.target.value),className:"jsx-82902f98b9a2fd90 w-full text-xl font-bold bg-transparent focus:outline-none placeholder-gray-300 dark:placeholder-gray-500 text-gray-800 dark:text-gray-100"}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-4",children:[Z&&(0,s.jsx)(o.motion.span,{animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.5},className:"text-sm text-gray-500 dark:text-gray-400",children:"Saving..."}),(0,s.jsxs)("span",{className:"jsx-82902f98b9a2fd90 text-sm text-gray-500 dark:text-gray-400",children:[ev()," words (~",(()=>{let e=ev();return Math.ceil(e/200)})()," min)"]})]})]}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex gap-4 mb-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("input",{type:"date",value:F,onChange:e=>O(e.target.value),className:"jsx-82902f98b9a2fd90 p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100"})]}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-2",children:(0,s.jsxs)("select",{value:V,onChange:e=>W(e.target.value),className:"jsx-82902f98b9a2fd90 p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100",children:[(0,s.jsx)("option",{value:"",className:"jsx-82902f98b9a2fd90",children:"Category"}),X.map(e=>(0,s.jsx)("option",{value:e,className:"jsx-82902f98b9a2fd90",children:e},e))]})}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex items-center gap-2",children:[(0,s.jsx)(k.A,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("input",{type:"text",placeholder:"Tag (Enter)",value:z,onChange:e=>B(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&z.trim()){if(q.includes(z.trim()))return void v.default.error("Tag already exists!");$([...q,z.trim()]),B("")}},className:"jsx-82902f98b9a2fd90 p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100"})]})]}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2 mb-4 flex-wrap",children:q.map(e=>(0,s.jsxs)(o.motion.span,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 px-2 py-1 rounded-full",children:[e,(0,s.jsx)("button",{onClick:()=>ef(e),className:"jsx-82902f98b9a2fd90 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:"\xd7"})]},e))}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 mb-4",children:(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ew("lecture"),className:"px-3 py-1 text-sm font-semibold text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:"Lecture"}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ew("assignment"),className:"px-3 py-1 text-sm font-semibold text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:"Assignment"})]})}),(0,s.jsx)(S.EditorContent,{editor:ex,className:"tiptap-editor h-64 border border-gray-200 dark:border-gray-600 rounded-lg p-2 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100"}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex justify-end gap-2 mt-4",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ey(),K(!0)},className:"px-4 py-2 text-gray-600 dark:text-gray-300 bg-gray-200 dark:bg-gray-700  hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold",children:"Back"}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N?eu:eg,className:"px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-500 rounded-lg flex items-center gap-2 font-semibold",children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"w-4 h-4"})," Save"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.A,{className:"w-4 h-4"})," Add"]})})]})]})})]}),(0,s.jsx)(o.AnimatePresence,{children:ei&&(0,s.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>en(null),children:(0,s.jsxs)(o.motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h2",{className:"jsx-82902f98b9a2fd90 text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:ei.title}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:ei.content},className:"jsx-82902f98b9a2fd90 prose dark:prose-invert text-gray-800 dark:text-gray-100"}),(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 flex gap-2 mt-4",children:ei.tags.map(e=>(0,s.jsx)("span",{className:"jsx-82902f98b9a2fd90 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 px-2 py-1 rounded-full",children:e},e))}),(0,s.jsxs)("p",{className:"jsx-82902f98b9a2fd90 text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Category: ",ei.category]}),(0,s.jsxs)("p",{className:"jsx-82902f98b9a2fd90 text-sm text-gray-500 dark:text-gray-400",children:["Date: ",ei.date]}),(0,s.jsxs)("div",{className:"jsx-82902f98b9a2fd90 flex justify-end gap-2 mt-4",children:[(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>en(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold",children:"Close"}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{em(ei),en(null)},className:"px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-500 rounded-lg font-semibold",children:"Edit"})]})]})})}),(0,s.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ey(),K(!1)},className:"fixed bottom-6 right-6 p-4 bg-blue-500 text-white rounded-full shadow-lg dark:bg-blue-600",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},title:"New Note",children:(0,s.jsx)(w.A,{className:"w-6 h-6"})})]})}),(0,s.jsx)("footer",{className:"jsx-82902f98b9a2fd90 bg-gray-100 dark:bg-gray-900 py-4 mt-auto",children:(0,s.jsx)("div",{className:"jsx-82902f98b9a2fd90 max-w-5xl mx-auto px-4 md:px-6 text-center",children:(0,s.jsxs)("p",{className:"jsx-82902f98b9a2fd90 text-gray-600 dark:text-gray-400 text-sm font-bold",children:["\xa9 ",new Date().getFullYear()," Noteify. All rights reserved."]})})})]})]})}[o,v,N,S,C,T,E,M,H,D]=q.then?(await q)():q,r()}catch(e){r(e)}})},1919:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1975:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>g,O:()=>x});var s=a(8732),l=a(2015),i=a(9582),n=a(6958),o=a(6220),d=e([i,n]);[i,n]=d.then?(await d)():d;let c=(0,l.createContext)({}),x=({children:e})=>{let[t,a]=(0,l.useState)(null),[r,d]=(0,l.useState)(!0),x=(0,o.useRouter)();(0,l.useEffect)(()=>{let e=(0,n.onAuthStateChanged)(i.j,e=>{console.log("Auth state changed:",e?{uid:e.uid,emailVerified:e.emailVerified}:"No user"),a(e),d(!1)});return()=>e()},[]);let g=async(e,t)=>{try{if(console.log("Calling signInWithEmailAndPassword:",{email:e}),!(await (0,n.signInWithEmailAndPassword)(i.j,e,t)).user.emailVerified)throw Error("Please verify your email before logging in.");x.push("/notes")}catch(e){throw console.error("Login error:",e.message),e}},u=async(e,t,a)=>{try{console.log("Calling createUserWithEmailAndPassword:",{email:e,displayName:a});let r=await (0,n.createUserWithEmailAndPassword)(i.j,e,t);await (0,n.updateProfile)(r.user,{displayName:a}),await (0,n.sendEmailVerification)(r.user),console.log("Verification email sent to:",e)}catch(e){throw console.error("Signup error:",e.message),e}},p=async()=>{try{if(i.j.currentUser)await (0,n.sendEmailVerification)(i.j.currentUser),console.log("Verification email resent to:",i.j.currentUser.email);else throw Error("No user is signed in.")}catch(e){throw console.error("Resend verification error:",e.message),e}},h=async()=>{try{await (0,n.signOut)(i.j),x.push("/login")}catch(e){throw console.error("Logout error:",e.message),e}},m=async e=>{try{await (0,n.updateProfile)(i.j.currentUser,{displayName:e}),a({...i.j.currentUser})}catch(e){throw console.error("Update profile error:",e.message),e}};return(0,s.jsx)(c.Provider,{value:{user:t,loading:r,login:g,signup:u,logout:h,updateUserProfile:m,resendVerificationEmail:p},children:!r&&e})},g=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};r()}catch(e){r(e)}})},2015:e=>{"use strict";e.exports=require("react")},2386:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var r=a(2015);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:i,iconNode:c,...x},g)=>(0,r.createElement)("svg",{ref:g,...d,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:n("lucide",l),...!i&&!o(x)&&{"aria-hidden":"true"},...x},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),x=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...l},o)=>(0,r.createElement)(c,{ref:o,iconNode:t,className:n(`lucide-${s(i(e))}`,`lucide-${e}`,a),...l}));return a.displayName=i(e),a}},2768:()=>{},2893:e=>{"use strict";e.exports=import("react-hot-toast")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3220:e=>{"use strict";e.exports=import("framer-motion")},3295:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3873:e=>{"use strict";e.exports=require("path")},4337:e=>{"use strict";e.exports=import("firebase/firestore")},4692:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},5091:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5453:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6084:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]])},6205:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6218:e=>{"use strict";e.exports=require("prismjs")},6356:e=>{"use strict";e.exports=import("@tiptap/react")},6472:e=>{"use strict";e.exports=require("@opentelemetry/api")},6551:e=>{"use strict";e.exports=import("firebase/app")},6744:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},6791:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]])},6958:e=>{"use strict";e.exports=import("firebase/auth")},7085:e=>{"use strict";e.exports=require("styled-jsx/style")},7290:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7445:e=>{"use strict";e.exports=import("@tiptap/starter-kit")},7522:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>n});var s=a(8732);a(2768);var l=a(1975),i=e([l]);function n({Component:e,pageProps:t}){return(0,s.jsx)(l.O,{children:(0,s.jsx)(e,{...t})})}l=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},7581:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},7981:e=>{"use strict";e.exports=import("react-markdown")},8194:e=>{"use strict";e.exports=require("jszip")},8579:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>h,default:()=>x,getServerSideProps:()=>p,getStaticPaths:()=>u,getStaticProps:()=>g,reportWebVitals:()=>m,routeModule:()=>w,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>y});var s=a(3885),l=a(237),i=a(1413),n=a(9674),o=a(7522),d=a(1705),c=e([o,d]);[o,d]=c.then?(await c)():c;let x=(0,i.M)(d,"default"),g=(0,i.M)(d,"getStaticProps"),u=(0,i.M)(d,"getStaticPaths"),p=(0,i.M)(d,"getServerSideProps"),h=(0,i.M)(d,"config"),m=(0,i.M)(d,"reportWebVitals"),y=(0,i.M)(d,"unstable_getStaticProps"),f=(0,i.M)(d,"unstable_getStaticPaths"),b=(0,i.M)(d,"unstable_getStaticParams"),j=(0,i.M)(d,"unstable_getServerProps"),k=(0,i.M)(d,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/notes",pathname:"/notes",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:d});r()}catch(e){r(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8747:e=>{"use strict";e.exports=import("use-debounce")},9048:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2386).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9582:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{db:()=>x,j:()=>c});var s=a(6551),l=a(6958),i=a(4337),n=e([s,l,i]);[s,l,i]=n.then?(await n)():n;let o={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},d=(0,s.getApps)().length?(0,s.getApp)():(0,s.initializeApp)(o),c=(0,l.getAuth)(d),x=(0,i.getFirestore)(d);r()}catch(e){r(e)}})},9674:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(8732),s=a(2341);function l(){return(0,r.jsxs)(s.Html,{lang:"en",children:[(0,r.jsx)(s.Head,{}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(s.Main,{}),(0,r.jsx)(s.NextScript,{})]})]})}}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[341,839,358],()=>a(8579));module.exports=r})();